{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dew/404SquadSolarConnect/final/lib/utils.ts"],"sourcesContent":["/* ------------------------------------------------------------------ */\r\n/* Core domain types                                                    */\r\n/* ------------------------------------------------------------------ */\r\n\r\nexport type UserRole = \"customer\" | \"installer\" | \"officer\"\r\n\r\nexport interface User {\r\n  id: string\r\n  role: UserRole\r\n  email: string\r\n  name: string\r\n  status?: \"active\" | \"suspended\"\r\n  verified?: boolean\r\n  phone?: string\r\n  address?: string\r\n  profileImageUrl?: string | null\r\n  createdAt?: string\r\n  organization?: {\r\n    id: string\r\n    name: string\r\n    isRejected?: boolean\r\n  } | null\r\n}\r\nimport { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\nexport function formatCapacityForFiltering(capacity?: string | null): string {\r\n  if (!capacity) return \"\"\r\n\r\n  const text = capacity.toLowerCase().trim()\r\n\r\n  // Extract first number like \"3\", \"3.5\", etc.\r\n  const match = text.match(/(\\d+(\\.\\d+)?)/)\r\n  if (!match) return text\r\n\r\n  let value = Number.parseFloat(match[1])\r\n  if (Number.isNaN(value)) return text\r\n\r\n  // If it's in watts (e.g., \"5000w\"), convert to kW\r\n  const isKw = text.includes(\"kw\")\r\n  const isW = text.includes(\"w\")\r\n  if (isW && !isKw) value = value / 1000\r\n\r\n  // Normalize (remove trailing zeros)\r\n  return String(Number(value.toFixed(2)))\r\n}\r\nexport type InstallerStatus =\r\n  | \"pending\"\r\n  | \"verified\"\r\n  | \"rejected\"\r\n  | \"suspended\"\r\n\r\nexport interface DocumentMeta {\r\n  fileName: string\r\n  url: string\r\n  uploadedAt: string\r\n  mimeType?: string\r\n  sizeKb?: number\r\n}\r\n\r\nexport interface Application {\r\n  id: string\r\n  reference?: string\r\n  customerId: string\r\n  customerName: string\r\n  email?: string\r\n  phone?: string\r\n  address?: string\r\n  connectionPhase?: string\r\n  status:\r\n    | \"pending\"\r\n    | \"under_review\"\r\n    | \"pre_visit_approved\"\r\n    | \"site_visit_scheduled\"\r\n    | \"approved\"\r\n    | \"site_visit_payment_completed\"\r\n    | \"rejected\"\r\n    | \"payment_pending\"\r\n    | \"payment_confirmed\"\r\n    | \"finding_installer\"\r\n    | \"installation_in_progress\"\r\n    | \"installation_complete\"\r\n    | \"final_inspection\"\r\n    | \"agreement_pending\"\r\n    | \"inspection_approved\"\r\n    | \"agreement_sent\"\r\n    | \"customer_signed\"\r\n    | \"installer_signed\"\r\n    | \"officer_final_approved\"\r\n    | \"completed\"\r\n  createdAt: string\r\n  updatedAt: string\r\n  reviewedAt?: string\r\n  siteVisitDate?: string\r\n  rejectionReason?: string\r\n  siteVisitFeePaid?: boolean\r\n  documents: {\r\n    nic?: DocumentMeta\r\n    bankDetails?: DocumentMeta\r\n    electricityBill?: DocumentMeta\r\n    propertyDocument?: DocumentMeta\r\n  }\r\n  technicalDetails: {\r\n    roofType: string\r\n    roofArea: string\r\n    monthlyConsumption: string\r\n    connectionPhase: string\r\n    propertyType?: string\r\n    propertyOwnership?: string\r\n    electricityAccountNumber?: string\r\n    tariffCategory?: string\r\n    roofOrientation?: string\r\n    shading?: string\r\n    desiredCapacity?: string\r\n  }\r\n  selectedInstaller?: {\r\n    id: string\r\n    name: string\r\n    phone?: string | null\r\n    address?: string | null\r\n    packageName?: string\r\n    price?: number\r\n  }\r\n  bidId?: string\r\n  invoices?: Invoice[]\r\n}\r\n\r\nexport interface Installer {\r\n  id: string\r\n  companyName: string\r\n  email: string\r\n  phone: string\r\n  address: string\r\n  description: string\r\n  registrationNumber?: string\r\n  status: InstallerStatus\r\n  verified: boolean\r\n  isRejected?: boolean\r\n  verifiedAt?: string\r\n  rejectionReason?: string\r\n  suspendedReason?: string\r\n  documents: DocumentMeta[]\r\n  packages: SolarPackage[]\r\n  rating: number\r\n  completedInstallations: number\r\n}\r\n\r\nexport interface SolarPackage {\r\n  id: string\r\n  installerId: string\r\n  name: string\r\n  capacity: string\r\n  description?: string\r\n  panelCount: number\r\n  panelType: string\r\n  inverterType?: string\r\n  inverterBrand: string\r\n  installationDays?: number | null\r\n  warranty: string\r\n  price: number\r\n  active?: boolean\r\n  features: string[]\r\n}\r\n\r\nexport interface Bid {\r\n  id: string\r\n  applicationId: string\r\n  installerId: string\r\n  installerName: string\r\n  price: number\r\n  proposal: string\r\n  warranty: string\r\n  estimatedDays: number\r\n  createdAt: string\r\n  status: \"pending\" | \"accepted\" | \"rejected\" | \"expired\"\r\n  packageName?: string\r\n  installerRating?: number\r\n  completedProjects?: number\r\n  contact?: {\r\n    email?: string\r\n    phone?: string\r\n  }\r\n  message?: string\r\n}\r\n\r\nexport interface BidSession {\r\n  id: string\r\n  applicationId: string\r\n  customerId: string\r\n  startedAt: string\r\n  expiresAt: string\r\n  status: \"open\" | \"closed\" | \"expired\"\r\n  bids: Bid[]\r\n  selectedBidId?: string\r\n  bidType?: \"open\" | \"specific\"\r\n  requirements?: string\r\n  maxBudget?: number\r\n  applicationDetails?: {\r\n    address?: string\r\n    capacity?: string\r\n    customerPhone?: string\r\n    customerEmail?: string\r\n    selectedPackageName?: string\r\n    selectedPackagePrice?: string\r\n  }\r\n}\r\n\r\nexport interface Invoice {\r\n  id: string\r\n  applicationId: string\r\n  customerId: string\r\n  customerName?: string\r\n  type: \"authority_fee\" | \"installation\" | \"monthly_bill\"\r\n  amount: number\r\n  status: \"pending\" | \"paid\" | \"overdue\"\r\n  createdAt: string\r\n  paidAt?: string\r\n  dueDate: string\r\n  description: string\r\n  paymentId?: string\r\n  meterReadingId?: string\r\n  pdfUrl?: string\r\n  channel?: \"email\" | \"sms\" | \"in_app\"\r\n  nextAction?: string\r\n}\r\n\r\nexport interface MonthlyBill {\r\n  id: string\r\n  customerId: string\r\n  applicationId: string\r\n  month: number\r\n  year: number\r\n  kwhGenerated: number\r\n  kwhExported: number\r\n  kwhImported: number\r\n  amount: number\r\n  status: \"pending\" | \"paid\" | \"overdue\" | \"credited\"\r\n  createdAt: string\r\n  meterReadingId?: string\r\n  invoiceId?: string\r\n  pdfUrl?: string\r\n}\r\n\r\n/* ------------------------------------------------------------------ */\r\n/* API helpers                                                          */\r\n/* ------------------------------------------------------------------ */\r\n\r\nasync function handleResponse<T>(response: Response): Promise<T> {\r\n  if (!response.ok) {\r\n    const data = await response.json().catch(() => ({}))\r\n    const message = (data as any)?.error || response.statusText\r\n    throw new Error(message || \"Request failed\")\r\n  }\r\n  return response.json() as Promise<T>\r\n}\r\n\r\n/* ------------------------------------------------------------------ */\r\n/* Auth                                                                 */\r\n/* ------------------------------------------------------------------ */\r\n\r\nexport async function fetchCurrentUser(): Promise<User | null> {\r\n  const response = await fetch(\"/api/auth/me\", { cache: \"no-store\" })\r\n  if (response.status === 401) return null\r\n  const data = await handleResponse<{ user: User }>(response)\r\n  return data.user\r\n}\r\n\r\nexport async function login(payload: {\r\n  email: string\r\n  password: string\r\n}) {\r\n  const response = await fetch(\"/api/auth/login\", {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(payload),\r\n  })\r\n  const data = await handleResponse<{ user: User }>(response)\r\n  return data.user\r\n}\r\n\r\nexport async function register(payload: {\r\n  role: UserRole\r\n  email: string\r\n  password: string\r\n  name: string\r\n  phone?: string\r\n  address?: string\r\n  companyName?: string\r\n  description?: string\r\n}) {\r\n  const response = await fetch(\"/api/auth/register\", {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(payload),\r\n  })\r\n  const data = await handleResponse<{ user: User }>(response)\r\n  return data.user\r\n}\r\n\r\nexport async function logout() {\r\n  await fetch(\"/api/auth/logout\", { method: \"POST\" })\r\n}\r\n\r\n/* ------------------------------------------------------------------ */\r\n/* Data fetchers                                                        */\r\n/* ------------------------------------------------------------------ */\r\n\r\nexport async function fetchApplications(): Promise<Application[]> {\r\n  const response = await fetch(\"/api/applications\", { cache: \"no-store\" })\r\n  const data = await handleResponse<{ applications: Application[] }>(response)\r\n  return data.applications\r\n}\r\n\r\nexport async function fetchApplication(\r\n  reference: string,\r\n): Promise<Application | null> {\r\n  const response = await fetch(`/api/applications/${reference}`, {\r\n    cache: \"no-store\",\r\n  })\r\n  if (response.status === 404) return null\r\n  const data = await handleResponse<{ application: Application }>(response)\r\n  return data.application\r\n}\r\n\r\nexport async function fetchInstallers(\r\n  verifiedOnly = true,\r\n): Promise<Installer[]> {\r\n  const url = verifiedOnly\r\n    ? \"/api/installers?verified=true\"\r\n    : \"/api/installers\"\r\n\r\n  const response = await fetch(url, { cache: \"no-store\" })\r\n  const data = await handleResponse<{ installers: Installer[] }>(response)\r\n  return data.installers\r\n}\r\n\r\nexport async function fetchBidSessions(): Promise<BidSession[]> {\r\n  const response = await fetch(\"/api/bids\", { cache: \"no-store\" })\r\n  const data = await handleResponse<{ bidSessions: BidSession[] }>(response)\r\n  return data.bidSessions\r\n}\r\n\r\nexport async function fetchPayments(): Promise<{\r\n  invoices: Invoice[]\r\n  monthlyBills: MonthlyBill[]\r\n}> {\r\n  const response = await fetch(\"/api/payments\", { cache: \"no-store\" })\r\n  return handleResponse(response)\r\n}\r\n\r\nexport async function fetchUsers(): Promise<User[]> {\r\n  const response = await fetch(\"/api/users\", { cache: \"no-store\" })\r\n  const data = await handleResponse<{ users: User[] }>(response)\r\n  return data.users\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dew/404SquadSolarConnect/final/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive:\r\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\r\n        secondary:\r\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        ghost:\r\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n      },\r\n      size: {\r\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\r\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\r\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\r\n        icon: 'size-9',\r\n        'icon-sm': 'size-8',\r\n        'icon-lg': 'size-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'button'> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : 'button'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,wMAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,yMAAI,GAAG;IAE9B,qBACE,+QAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dew/404SquadSolarConnect/final/components/ui/avatar.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as AvatarPrimitive from '@radix-ui/react-avatar'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Avatar({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\r\n  return (\r\n    <AvatarPrimitive.Root\r\n      data-slot=\"avatar\"\r\n      className={cn(\r\n        'relative flex size-8 shrink-0 overflow-hidden rounded-full',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction AvatarImage({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\r\n  return (\r\n    <AvatarPrimitive.Image\r\n      data-slot=\"avatar-image\"\r\n      className={cn('aspect-square size-full', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction AvatarFallback({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\r\n  return (\r\n    <AvatarPrimitive.Fallback\r\n      data-slot=\"avatar-fallback\"\r\n      className={cn(\r\n        'bg-muted flex size-full items-center justify-center rounded-full',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback }\r\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,+QAAC,2MAAoB;QACnB,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,+QAAC,4MAAqB;QACpB,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,+QAAC,+MAAwB;QACvB,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dew/404SquadSolarConnect/final/components/ui/dropdown-menu.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu'\r\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction DropdownMenu({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\r\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\r\n}\r\n\r\nfunction DropdownMenuPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Trigger\r\n      data-slot=\"dropdown-menu-trigger\"\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuContent({\r\n  className,\r\n  sideOffset = 4,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Portal>\r\n      <DropdownMenuPrimitive.Content\r\n        data-slot=\"dropdown-menu-content\"\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',\r\n          className,\r\n        )}\r\n        {...props}\r\n      />\r\n    </DropdownMenuPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuItem({\r\n  className,\r\n  inset,\r\n  variant = 'default',\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\r\n  inset?: boolean\r\n  variant?: 'default' | 'destructive'\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.Item\r\n      data-slot=\"dropdown-menu-item\"\r\n      data-inset={inset}\r\n      data-variant={variant}\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuCheckboxItem({\r\n  className,\r\n  children,\r\n  checked,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\r\n  return (\r\n    <DropdownMenuPrimitive.CheckboxItem\r\n      data-slot=\"dropdown-menu-checkbox-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      checked={checked}\r\n      {...props}\r\n    >\r\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\r\n        <DropdownMenuPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </DropdownMenuPrimitive.ItemIndicator>\r\n      </span>\r\n      {children}\r\n    </DropdownMenuPrimitive.CheckboxItem>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuRadioGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\r\n  return (\r\n    <DropdownMenuPrimitive.RadioGroup\r\n      data-slot=\"dropdown-menu-radio-group\"\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuRadioItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\r\n  return (\r\n    <DropdownMenuPrimitive.RadioItem\r\n      data-slot=\"dropdown-menu-radio-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\r\n        <DropdownMenuPrimitive.ItemIndicator>\r\n          <CircleIcon className=\"size-2 fill-current\" />\r\n        </DropdownMenuPrimitive.ItemIndicator>\r\n      </span>\r\n      {children}\r\n    </DropdownMenuPrimitive.RadioItem>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuLabel({\r\n  className,\r\n  inset,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\r\n  inset?: boolean\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.Label\r\n      data-slot=\"dropdown-menu-label\"\r\n      data-inset={inset}\r\n      className={cn(\r\n        'px-2 py-1.5 text-sm font-medium data-[inset]:pl-8',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Separator\r\n      data-slot=\"dropdown-menu-separator\"\r\n      className={cn('bg-border -mx-1 my-1 h-px', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuShortcut({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<'span'>) {\r\n  return (\r\n    <span\r\n      data-slot=\"dropdown-menu-shortcut\"\r\n      className={cn(\r\n        'text-muted-foreground ml-auto text-xs tracking-widest',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuSub({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\r\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\r\n}\r\n\r\nfunction DropdownMenuSubTrigger({\r\n  className,\r\n  inset,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n  inset?: boolean\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.SubTrigger\r\n      data-slot=\"dropdown-menu-sub-trigger\"\r\n      data-inset={inset}\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <ChevronRightIcon className=\"ml-auto size-4\" />\r\n    </DropdownMenuPrimitive.SubTrigger>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuSubContent({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\r\n  return (\r\n    <DropdownMenuPrimitive.SubContent\r\n      data-slot=\"dropdown-menu-sub-content\"\r\n      className={cn(\r\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  DropdownMenu,\r\n  DropdownMenuPortal,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuGroup,\r\n  DropdownMenuLabel,\r\n  DropdownMenuItem,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuRadioGroup,\r\n  DropdownMenuRadioItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuShortcut,\r\n  DropdownMenuSub,\r\n  DropdownMenuSubTrigger,\r\n  DropdownMenuSubContent,\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 529, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dew/404SquadSolarConnect/final/lib/auth.ts"],"sourcesContent":["/* ------------------------------------------------------------------ */\r\n/* Core domain types                                                    */\r\n/* ------------------------------------------------------------------ */\r\n\r\nexport type UserRole = \"customer\" | \"installer\" | \"officer\"\r\n\r\nexport interface User {\r\n  id: string\r\n  role: UserRole\r\n  email: string\r\n  name: string\r\n  status?: \"active\" | \"suspended\"\r\n  verified?: boolean\r\n  phone?: string\r\n  address?: string\r\n  profileImageUrl?: string | null\r\n  createdAt?: string\r\n  organization?: {\r\n    id: string\r\n    name: string\r\n    isRejected?: boolean\r\n  } | null\r\n}\r\n\r\nexport type InstallerStatus =\r\n  | \"pending\"\r\n  | \"verified\"\r\n  | \"rejected\"\r\n  | \"suspended\"\r\n\r\nexport interface DocumentMeta {\r\n  fileName: string\r\n  url: string\r\n  uploadedAt: string\r\n  mimeType?: string\r\n  sizeKb?: number\r\n}\r\n\r\nexport interface Application {\r\n  id: string\r\n  reference?: string\r\n  customerId: string\r\n  customerName: string\r\n  email?: string\r\n  phone?: string\r\n  address?: string\r\n  connectionPhase?: string\r\n  status:\r\n    | \"pending\"\r\n    | \"under_review\"\r\n    | \"pre_visit_approved\"\r\n    | \"site_visit_scheduled\"\r\n    | \"approved\"\r\n    | \"site_visit_payment_completed\"\r\n    | \"rejected\"\r\n    | \"payment_pending\"\r\n    | \"payment_confirmed\"\r\n    | \"finding_installer\"\r\n    | \"installation_in_progress\"\r\n    | \"installation_complete\"\r\n    | \"final_inspection\"\r\n    | \"agreement_pending\"\r\n    | \"inspection_approved\"\r\n    | \"agreement_sent\"\r\n    | \"customer_signed\"\r\n    | \"installer_signed\"\r\n    | \"officer_final_approved\"\r\n    | \"completed\"\r\n  createdAt: string\r\n  updatedAt: string\r\n  reviewedAt?: string\r\n  siteVisitDate?: string\r\n  rejectionReason?: string\r\n  siteVisitFeePaid?: boolean\r\n  documents: {\r\n    nic?: DocumentMeta\r\n    bankDetails?: DocumentMeta\r\n    electricityBill?: DocumentMeta\r\n    propertyDocument?: DocumentMeta\r\n  }\r\n  technicalDetails: {\r\n    roofType: string\r\n    roofArea: string\r\n    monthlyConsumption: string\r\n    connectionPhase: string\r\n    propertyType?: string\r\n    propertyOwnership?: string\r\n    electricityAccountNumber?: string\r\n    tariffCategory?: string\r\n    roofOrientation?: string\r\n    shading?: string\r\n    desiredCapacity?: string\r\n  }\r\n  selectedInstaller?: {\r\n    id: string\r\n    name: string\r\n    phone?: string | null\r\n    address?: string | null\r\n    packageName?: string\r\n    price?: number\r\n  }\r\n  bidId?: string\r\n  invoices?: Invoice[]\r\n}\r\n\r\nexport interface Installer {\r\n  id: string\r\n  companyName: string\r\n  email: string\r\n  phone: string\r\n  address: string\r\n  description: string\r\n  registrationNumber?: string\r\n  status: InstallerStatus\r\n  verified: boolean\r\n  isRejected?: boolean\r\n  verifiedAt?: string\r\n  rejectionReason?: string\r\n  suspendedReason?: string\r\n  documents: DocumentMeta[]\r\n  packages: SolarPackage[]\r\n  rating: number\r\n  completedInstallations: number\r\n}\r\n\r\nexport interface SolarPackage {\r\n  id: string\r\n  installerId: string\r\n  name: string\r\n  capacity: string\r\n  description?: string\r\n  panelCount: number\r\n  panelType: string\r\n  inverterType?: string\r\n  inverterBrand: string\r\n  installationDays?: number | null\r\n  warranty: string\r\n  price: number\r\n  active?: boolean\r\n  features: string[]\r\n}\r\n\r\nexport interface Bid {\r\n  id: string\r\n  applicationId: string\r\n  installerId: string\r\n  installerName: string\r\n  price: number\r\n  proposal: string\r\n  warranty: string\r\n  estimatedDays: number\r\n  createdAt: string\r\n  status: \"pending\" | \"accepted\" | \"rejected\" | \"expired\"\r\n  packageName?: string\r\n  installerRating?: number\r\n  completedProjects?: number\r\n  contact?: {\r\n    email?: string\r\n    phone?: string\r\n  }\r\n  message?: string\r\n}\r\n\r\nexport interface BidSession {\r\n  id: string\r\n  applicationId: string\r\n  customerId: string\r\n  startedAt: string\r\n  expiresAt: string\r\n  status: \"open\" | \"closed\" | \"expired\"\r\n  bids: Bid[]\r\n  selectedBidId?: string\r\n  bidType?: \"open\" | \"specific\"\r\n  requirements?: string\r\n  maxBudget?: number\r\n  applicationDetails?: {\r\n    address?: string\r\n    capacity?: string\r\n    customerPhone?: string\r\n    customerEmail?: string\r\n    selectedPackageName?: string\r\n    selectedPackagePrice?: string\r\n  }\r\n}\r\n\r\nexport interface Invoice {\r\n  id: string\r\n  applicationId: string\r\n  customerId: string\r\n  customerName?: string\r\n  type: \"authority_fee\" | \"installation\" | \"monthly_bill\"\r\n  amount: number\r\n  status: \"pending\" | \"paid\" | \"overdue\"\r\n  createdAt: string\r\n  paidAt?: string\r\n  dueDate: string\r\n  description: string\r\n  paymentId?: string\r\n  meterReadingId?: string\r\n  pdfUrl?: string\r\n  channel?: \"email\" | \"sms\" | \"in_app\"\r\n  nextAction?: string\r\n}\r\n\r\nexport interface MonthlyBill {\r\n  id: string\r\n  customerId: string\r\n  applicationId: string\r\n  month: number\r\n  year: number\r\n  kwhGenerated: number\r\n  kwhExported: number\r\n  kwhImported: number\r\n  amount: number\r\n  status: \"pending\" | \"paid\" | \"overdue\" | \"credited\"\r\n  createdAt: string\r\n  meterReadingId?: string\r\n  invoiceId?: string\r\n  pdfUrl?: string\r\n}\r\n\r\n/* ------------------------------------------------------------------ */\r\n/* API helpers                                                          */\r\n/* ------------------------------------------------------------------ */\r\n\r\nasync function handleResponse<T>(response: Response): Promise<T> {\r\n  if (!response.ok) {\r\n    const data = await response.json().catch(() => ({}))\r\n    const message = (data as any)?.error || response.statusText\r\n    throw new Error(message || \"Request failed\")\r\n  }\r\n  return response.json() as Promise<T>\r\n}\r\n\r\n/* ------------------------------------------------------------------ */\r\n/* Auth                                                                 */\r\n/* ------------------------------------------------------------------ */\r\n\r\nexport async function fetchCurrentUser(): Promise<User | null> {\r\n  const response = await fetch(\"/api/auth/me\", { cache: \"no-store\" })\r\n  if (response.status === 401) return null\r\n  const data = await handleResponse<{ user: User }>(response)\r\n  return data.user\r\n}\r\n\r\nexport async function login(payload: {\r\n  email: string\r\n  password: string\r\n}) {\r\n  const response = await fetch(\"/api/auth/login\", {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(payload),\r\n  })\r\n  const data = await handleResponse<{ user: User }>(response)\r\n  return data.user\r\n}\r\n\r\nexport async function register(payload: {\r\n  role: UserRole\r\n  email: string\r\n  password: string\r\n  name: string\r\n  phone?: string\r\n  address?: string\r\n  companyName?: string\r\n  description?: string\r\n}) {\r\n  const response = await fetch(\"/api/auth/register\", {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(payload),\r\n  })\r\n  const data = await handleResponse<{ user: User }>(response)\r\n  return data.user\r\n}\r\n\r\nexport async function logout() {\r\n  await fetch(\"/api/auth/logout\", { method: \"POST\" })\r\n}\r\n\r\n/* ------------------------------------------------------------------ */\r\n/* Data fetchers                                                        */\r\n/* ------------------------------------------------------------------ */\r\n\r\nexport async function fetchApplications(): Promise<Application[]> {\r\n  const response = await fetch(\"/api/applications\", { cache: \"no-store\" })\r\n  const data = await handleResponse<{ applications: Application[] }>(response)\r\n  return data.applications\r\n}\r\n\r\nexport async function fetchApplication(\r\n  reference: string,\r\n): Promise<Application | null> {\r\n  const response = await fetch(`/api/applications/${reference}`, {\r\n    cache: \"no-store\",\r\n  })\r\n  if (response.status === 404) return null\r\n  const data = await handleResponse<{ application: Application }>(response)\r\n  return data.application\r\n}\r\n\r\nexport async function fetchInstallers(\r\n  verifiedOnly = true,\r\n): Promise<Installer[]> {\r\n  const url = verifiedOnly\r\n    ? \"/api/installers?verified=true\"\r\n    : \"/api/installers\"\r\n\r\n  const response = await fetch(url, { cache: \"no-store\" })\r\n  const data = await handleResponse<{ installers: Installer[] }>(response)\r\n  return data.installers\r\n}\r\n\r\nexport async function fetchBidSessions(): Promise<BidSession[]> {\r\n  const response = await fetch(\"/api/bids\", { cache: \"no-store\" })\r\n  const data = await handleResponse<{ bidSessions: BidSession[] }>(response)\r\n  return data.bidSessions\r\n}\r\n\r\nexport async function fetchPayments(): Promise<{\r\n  invoices: Invoice[]\r\n  monthlyBills: MonthlyBill[]\r\n}> {\r\n  const response = await fetch(\"/api/payments\", { cache: \"no-store\" })\r\n  return handleResponse(response)\r\n}\r\n\r\nexport async function fetchUsers(): Promise<User[]> {\r\n  const response = await fetch(\"/api/users\", { cache: \"no-store\" })\r\n  const data = await handleResponse<{ users: User[] }>(response)\r\n  return data.users\r\n}\r\n"],"names":[],"mappings":"AAAA,sEAAsE,GACtE,wEAAwE,GACxE,sEAAsE;;;;;;;;;;;;;;;;;;;;;;AA2NtE,sEAAsE,GACtE,wEAAwE,GACxE,sEAAsE,GAEtE,eAAe,eAAkB,QAAkB;IACjD,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,OAAO,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QAClD,MAAM,UAAU,AAAC,MAAc,SAAS,SAAS,UAAU;QAC3D,MAAM,IAAI,MAAM,WAAW;IAC7B;IACA,OAAO,SAAS,IAAI;AACtB;AAMO,eAAe;IACpB,MAAM,WAAW,MAAM,MAAM,gBAAgB;QAAE,OAAO;IAAW;IACjE,IAAI,SAAS,MAAM,KAAK,KAAK,OAAO;IACpC,MAAM,OAAO,MAAM,eAA+B;IAClD,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe,MAAM,OAG3B;IACC,MAAM,WAAW,MAAM,MAAM,mBAAmB;QAC9C,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,MAAM,OAAO,MAAM,eAA+B;IAClD,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe,SAAS,OAS9B;IACC,MAAM,WAAW,MAAM,MAAM,sBAAsB;QACjD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,MAAM,OAAO,MAAM,eAA+B;IAClD,OAAO,KAAK,IAAI;AAClB;AAEO,eAAe;IACpB,MAAM,MAAM,oBAAoB;QAAE,QAAQ;IAAO;AACnD;AAMO,eAAe;IACpB,MAAM,WAAW,MAAM,MAAM,qBAAqB;QAAE,OAAO;IAAW;IACtE,MAAM,OAAO,MAAM,eAAgD;IACnE,OAAO,KAAK,YAAY;AAC1B;AAEO,eAAe,iBACpB,SAAiB;IAEjB,MAAM,WAAW,MAAM,MAAM,CAAC,kBAAkB,EAAE,WAAW,EAAE;QAC7D,OAAO;IACT;IACA,IAAI,SAAS,MAAM,KAAK,KAAK,OAAO;IACpC,MAAM,OAAO,MAAM,eAA6C;IAChE,OAAO,KAAK,WAAW;AACzB;AAEO,eAAe,gBACpB,eAAe,IAAI;IAEnB,MAAM,MAAM,eACR,kCACA;IAEJ,MAAM,WAAW,MAAM,MAAM,KAAK;QAAE,OAAO;IAAW;IACtD,MAAM,OAAO,MAAM,eAA4C;IAC/D,OAAO,KAAK,UAAU;AACxB;AAEO,eAAe;IACpB,MAAM,WAAW,MAAM,MAAM,aAAa;QAAE,OAAO;IAAW;IAC9D,MAAM,OAAO,MAAM,eAA8C;IACjE,OAAO,KAAK,WAAW;AACzB;AAEO,eAAe;IAIpB,MAAM,WAAW,MAAM,MAAM,iBAAiB;QAAE,OAAO;IAAW;IAClE,OAAO,eAAe;AACxB;AAEO,eAAe;IACpB,MAAM,WAAW,MAAM,MAAM,cAAc;QAAE,OAAO;IAAW;IAC/D,MAAM,OAAO,MAAM,eAAkC;IACrD,OAAO,KAAK,KAAK;AACnB"}},
    {"offset": {"line": 641, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dew/404SquadSolarConnect/final/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst badgeVariants = cva(\r\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\r\n        secondary:\r\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\r\n        destructive:\r\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Badge({\r\n  className,\r\n  variant,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'span'> &\r\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : 'span'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"badge\"\r\n      className={cn(badgeVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,wMAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,yMAAI,GAAG;IAE9B,qBACE,+QAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 687, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dew/404SquadSolarConnect/final/components/notifications.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState, createContext, useContext, type ReactNode } from \"react\"\r\nimport { Bell, X, CheckCircle, AlertTriangle, Info, FileText, Zap, Receipt, Calendar } from \"lucide-react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface Notification {\r\n  id: string\r\n  type: \"success\" | \"warning\" | \"info\" | \"application\" | \"payment\" | \"installation\" | \"bid\" | \"billing\" | \"agreement\"\r\n  title: string\r\n  message: string\r\n  timestamp: string\r\n  read: boolean\r\n  link?: string\r\n  channel?: \"in_app\" | \"email\" | \"sms\"\r\n}\r\n\r\ninterface NotificationContextType {\r\n  notifications: Notification[]\r\n  unreadCount: number\r\n  addNotification: (notification: Omit<Notification, \"id\" | \"timestamp\" | \"read\">) => void\r\n  markAsRead: (id: string) => void\r\n  markAllAsRead: () => void\r\n  clearNotification: (id: string) => void\r\n}\r\n\r\nconst NotificationContext = createContext<NotificationContextType | null>(null)\r\n\r\ntype ApiNotification = {\r\n  id: string\r\n  title: string\r\n  body: string\r\n  read: boolean\r\n  createdAt: string\r\n  link?: string | null\r\n}\r\n\r\nfunction formatTime(timestamp: string) {\r\n  const date = new Date(timestamp)\r\n  const now = new Date()\r\n  const diff = now.getTime() - date.getTime()\r\n  const hours = Math.floor(diff / (1000 * 60 * 60))\r\n  const days = Math.floor(hours / 24)\r\n  const time = date.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" })\r\n\r\n  if (days > 0) return `${days}d ago · ${time}`\r\n  if (hours > 0) return `${hours}h ago · ${time}`\r\n  return `Just now · ${time}`\r\n}\r\n\r\nexport function NotificationProvider({ children }: { children: ReactNode }) {\r\n  const [notifications, setNotifications] = useState<Notification[]>([])\r\n\r\n  useEffect(() => {\r\n    let active = true\r\n    async function load() {\r\n      try {\r\n        const res = await fetch(\"/api/notifications\", { cache: \"no-store\" })\r\n        if (!res.ok) return\r\n        const data = await res.json()\r\n        const mapped = (data.notifications as ApiNotification[] | undefined)?.map(mapNotification) ?? []\r\n        if (active) setNotifications(mapped)\r\n      } catch {\r\n        if (active) setNotifications([])\r\n      }\r\n    }\r\n    load()\r\n    return () => {\r\n      active = false\r\n    }\r\n  }, [])\r\n\r\n  const unreadCount = notifications.filter((n) => !n.read).length\r\n\r\n  const addNotification = (notification: Omit<Notification, \"id\" | \"timestamp\" | \"read\">) => {\r\n    const newNotification: Notification = {\r\n      ...notification,\r\n      id: Date.now().toString(),\r\n      timestamp: new Date().toISOString(),\r\n      read: false,\r\n    }\r\n    setNotifications((prev) => [newNotification, ...prev])\r\n  }\r\n\r\n  const markAsRead = (id: string) => {\r\n    setNotifications((prev) => prev.map((n) => (n.id === id ? { ...n, read: true } : n)))\r\n    fetch(`/api/notifications/${id}`, { method: \"PATCH\" }).catch(() => {})\r\n  }\r\n\r\n  const markAllAsRead = () => {\r\n    setNotifications((prev) => prev.map((n) => ({ ...n, read: true })))\r\n    fetch(\"/api/notifications\", { method: \"PATCH\" }).catch(() => {})\r\n  }\r\n\r\n  const clearNotification = (id: string) => {\r\n    setNotifications((prev) => prev.filter((n) => n.id !== id))\r\n    fetch(`/api/notifications/${id}`, { method: \"DELETE\" }).catch(() => {})\r\n  }\r\n\r\n  return (\r\n    <NotificationContext.Provider\r\n      value={{ notifications, unreadCount, addNotification, markAsRead, markAllAsRead, clearNotification }}\r\n    >\r\n      {children}\r\n    </NotificationContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useNotifications() {\r\n  const context = useContext(NotificationContext)\r\n  if (!context) {\r\n    throw new Error(\"useNotifications must be used within a NotificationProvider\")\r\n  }\r\n  return context\r\n}\r\n\r\nexport function NotificationPanel({ open, onClose }: { open: boolean; onClose: () => void }) {\r\n  const { notifications, unreadCount, markAsRead, markAllAsRead, clearNotification } = useNotifications()\r\n\r\n  const getIcon = (type: Notification[\"type\"]) => {\r\n    const icons = {\r\n      success: <CheckCircle className=\"w-5 h-5 text-emerald-500\" />,\r\n      warning: <AlertTriangle className=\"w-5 h-5 text-amber-500\" />,\r\n      info: <Info className=\"w-5 h-5 text-blue-500\" />,\r\n      application: <FileText className=\"w-5 h-5 text-cyan-500\" />,\r\n      payment: <Receipt className=\"w-5 h-5 text-emerald-500\" />,\r\n      installation: <Zap className=\"w-5 h-5 text-amber-500\" />,\r\n      bid: <Calendar className=\"w-5 h-5 text-blue-500\" />,\r\n      billing: <CreditPill label=\"Billing\" />,\r\n      agreement: <FileText className=\"w-5 h-5 text-purple-500\" />,\r\n    }\r\n    return icons[type] || icons.info\r\n  }\r\n\r\n  if (!open) return null\r\n\r\n  return (\r\n    <>\r\n      {/* Backdrop */}\r\n      <div className=\"fixed inset-0 z-40\" onClick={onClose} />\r\n\r\n      {/* Panel */}\r\n      <div className=\"fixed top-14 right-4 z-50 w-96 max-h-[80vh] bg-card border border-border rounded-lg shadow-lg overflow-hidden notification-panel\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-4 border-b border-border\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <h3 className=\"font-semibold text-foreground\">Notifications</h3>\r\n            {unreadCount > 0 && <Badge className=\"bg-emerald-500 text-white\">{unreadCount}</Badge>}\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            {unreadCount > 0 && (\r\n              <Button variant=\"ghost\" size=\"sm\" onClick={markAllAsRead} className=\"text-xs\">\r\n                Mark all read\r\n              </Button>\r\n            )}\r\n            <Button variant=\"ghost\" size=\"icon\" onClick={onClose}>\r\n              <X className=\"w-4 h-4\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Notifications List */}\r\n        <div className=\"overflow-y-auto max-h-[calc(80vh-60px)]\">\r\n          {notifications.length === 0 ? (\r\n            <div className=\"p-8 text-center\">\r\n              <Bell className=\"w-12 h-12 mx-auto text-muted-foreground/50 mb-3\" />\r\n              <p className=\"text-muted-foreground\">No notifications yet</p>\r\n            </div>\r\n          ) : (\r\n            notifications.map((notification) => (\r\n              <div\r\n                key={notification.id}\r\n                className={cn(\r\n                  \"group p-4 border-b border-border hover:bg-muted/50 transition-colors cursor-pointer notification-item\",\r\n                  !notification.read && \"bg-emerald-500/5 notification-item--unread\",\r\n                )}\r\n                onClick={() => {\r\n                  markAsRead(notification.id)\r\n                  if (notification.link) {\r\n                    window.location.href = notification.link\r\n                  }\r\n                }}\r\n              >\r\n                <div className=\"flex gap-3\">\r\n                  <div className=\"shrink-0 mt-0.5\">{getIcon(notification.type)}</div>\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-start justify-between gap-2\">\r\n                      <p className={cn(\"text-sm font-medium text-foreground\", !notification.read && \"font-semibold\")}>\r\n                        {notification.title}\r\n                      </p>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        className=\"shrink-0 w-6 h-6 opacity-0 group-hover:opacity-100\"\r\n                        onClick={(e) => {\r\n                          e.stopPropagation()\r\n                          clearNotification(notification.id)\r\n                        }}\r\n                      >\r\n                        <X className=\"w-3 h-3\" />\r\n                      </Button>\r\n                    </div>\r\n                    <p className=\"text-sm text-muted-foreground mt-0.5 line-clamp-2\">{notification.message}</p>\r\n                    <div className=\"flex items-center gap-2 mt-1\">\r\n                      {notification.channel && (\r\n                        <Badge variant=\"outline\" className=\"text-[10px] h-5 px-2 bg-muted/50\">\r\n                          {notification.channel === \"email\" ? \"Email\" : notification.channel === \"sms\" ? \"SMS\" : \"In-app\"}\r\n                        </Badge>\r\n                      )}\r\n                      <p className=\"text-xs text-muted-foreground\">{formatTime(notification.timestamp)}</p>\r\n                    </div>\r\n                  </div>\r\n                  {!notification.read && <div className=\"w-2 h-2 rounded-full bg-emerald-500 shrink-0 mt-2\" />}\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction mapNotification(notification: ApiNotification): Notification {\r\n  return {\r\n    id: notification.id,\r\n    type: inferType(notification.title, notification.body),\r\n    title: notification.title,\r\n    message: notification.body,\r\n    timestamp: notification.createdAt,\r\n    read: notification.read,\r\n    link: notification.link ?? undefined,\r\n    channel: \"in_app\",\r\n  }\r\n}\r\n\r\nfunction inferType(title: string, body: string): Notification[\"type\"] {\r\n  const text = `${title} ${body}`.toLowerCase()\r\n  if (text.includes(\"payment\") || text.includes(\"invoice\") || text.includes(\"fee\")) {\r\n    return \"payment\"\r\n  }\r\n  if (text.includes(\"bid\")) return \"bid\"\r\n  if (text.includes(\"installation\")) return \"installation\"\r\n  if (text.includes(\"agreement\")) return \"agreement\"\r\n  if (text.includes(\"visit\")) return \"application\"\r\n  if (text.includes(\"application\")) return \"application\"\r\n  return \"info\"\r\n}\r\n\r\nexport function NotificationBell() {\r\n  const { unreadCount } = useNotifications()\r\n  const [open, setOpen] = useState(false)\r\n\r\n  return (\r\n    <>\r\n      <Button variant=\"ghost\" size=\"icon\" className=\"relative\" onClick={() => setOpen(!open)}>\r\n        <Bell className=\"w-5 h-5\" />\r\n        {unreadCount > 0 && (\r\n          <span className=\"absolute top-1 right-1 w-4 h-4 bg-destructive rounded-full text-[10px] text-destructive-foreground flex items-center justify-center\">\r\n            {unreadCount > 9 ? \"9+\" : unreadCount}\r\n          </span>\r\n        )}\r\n      </Button>\r\n      <NotificationPanel open={open} onClose={() => setOpen(false)} />\r\n    </>\r\n  )\r\n}\r\n\r\nfunction CreditPill({ label }: { label: string }) {\r\n  return (\r\n    <div className=\"px-2 py-1 rounded-full bg-emerald-500/10 text-emerald-700 text-[10px] font-semibold leading-none\">\r\n      {label}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function NotificationFeed({ limit = 5 }: { limit?: number }) {\r\n  const { notifications } = useNotifications()\r\n  const items = notifications.slice(0, limit)\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      {items.map((notification) => (\r\n        <div key={notification.id} className=\"p-3 rounded-lg border border-border bg-card\">\r\n          <div className=\"flex items-start justify-between gap-2\">\r\n            <div className=\"flex items-center gap-2\">\r\n              {notification.type === \"billing\" ? (\r\n                <CreditPill label=\"Billing\" />\r\n              ) : (\r\n                <div className=\"w-6 h-6 rounded-full bg-muted flex items-center justify-center\">\r\n                  {notification.type === \"payment\" ? <Receipt className=\"w-4 h-4 text-emerald-600\" /> : null}\r\n                  {notification.type === \"installation\" ? <Zap className=\"w-4 h-4 text-amber-500\" /> : null}\r\n                  {notification.type === \"agreement\" ? <FileText className=\"w-4 h-4 text-purple-500\" /> : null}\r\n                  {notification.type === \"application\" ? <FileText className=\"w-4 h-4 text-cyan-500\" /> : null}\r\n                  {notification.type === \"info\" ? <Info className=\"w-4 h-4 text-blue-500\" /> : null}\r\n                </div>\r\n              )}\r\n            </div>\r\n            <p className=\"text-xs text-muted-foreground\">{formatTime(notification.timestamp)}</p>\r\n          </div>\r\n          <p className=\"text-sm font-semibold text-foreground mt-1\">{notification.title}</p>\r\n          <p className=\"text-sm text-muted-foreground mt-1\">{notification.message}</p>\r\n          {notification.channel && (\r\n            <div className=\"mt-2\">\r\n              <Badge variant=\"outline\" className=\"text-[10px] h-5 px-2 bg-muted/60\">\r\n                {notification.channel === \"email\" ? \"Email delivery\" : notification.channel === \"sms\" ? \"SMS\" : \"In-app\"}\r\n              </Badge>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ))}\r\n      {items.length === 0 && <p className=\"text-muted-foreground text-sm\">No notifications yet</p>}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1344, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dew/404SquadSolarConnect/final/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn('leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn('px-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,+QAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,+QAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,+QAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,+QAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,+QAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,+QAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,+QAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1446, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dew/404SquadSolarConnect/final/components/verification-pending-card.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { AlertTriangle } from \"lucide-react\"\r\nimport { Card, CardContent } from \"@/components/ui/card\"\r\nimport { useLanguage } from \"@/context/LanguageContext\"\r\n\r\nexport function VerificationPendingCard({ className = \"\" }: { className?: string }) {\r\n  const { t } = useLanguage()\r\n  return (\r\n    <div className={`max-w-2xl mx-auto ${className}`.trim()}>\r\n      <Card className=\"border-amber-500/50 bg-amber-500/5\">\r\n        <CardContent className=\"p-8 text-center\">\r\n          <div className=\"w-16 h-16 rounded-full bg-amber-500/10 flex items-center justify-center mx-auto mb-4\">\r\n            <AlertTriangle className=\"w-8 h-8 text-amber-500\" />\r\n          </div>\r\n          <h2 className=\"text-xl font-bold text-foreground mb-2\">\r\n            {t(\"verificationPending\")}\r\n          </h2>\r\n          <p className=\"text-muted-foreground\">\r\n            {t(\"verificationPendingDescription\")}\r\n          </p>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMO,SAAS,wBAAwB,EAAE,YAAY,EAAE,EAA0B;IAChF,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,2KAAW;IACzB,qBACE,+QAAC;QAAI,WAAW,CAAC,kBAAkB,EAAE,WAAW,CAAC,IAAI;kBACnD,cAAA,+QAAC,kKAAI;YAAC,WAAU;sBACd,cAAA,+QAAC,yKAAW;gBAAC,WAAU;;kCACrB,+QAAC;wBAAI,WAAU;kCACb,cAAA,+QAAC,0QAAa;4BAAC,WAAU;;;;;;;;;;;kCAE3B,+QAAC;wBAAG,WAAU;kCACX,EAAE;;;;;;kCAEL,+QAAC;wBAAE,WAAU;kCACV,EAAE;;;;;;;;;;;;;;;;;;;;;;AAMf"}},
    {"offset": {"line": 1519, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dew/404SquadSolarConnect/final/components/verification-rejected-card.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { XCircle } from \"lucide-react\"\r\nimport { useLanguage } from \"@/context/LanguageContext\"\r\n\r\nimport { Card, CardContent } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { logout } from \"@/lib/auth\"\r\n\r\nexport function VerificationRejectedCard({ className = \"\" }: { className?: string }) {\r\n  const { t } = useLanguage()\r\n  const router = useRouter()\r\n  const [loading, setLoading] = useState(false)\r\n  const [rejectionReason, setRejectionReason] = useState<string | null>(null)\r\n\r\n  useEffect(() => {\r\n    let active = true\r\n\r\n    async function loadReason() {\r\n      try {\r\n        const res = await fetch(\"/api/notifications\", { cache: \"no-store\" })\r\n        if (!res.ok) return\r\n        const data = await res.json()\r\n        const notifications = Array.isArray(data.notifications) ? data.notifications : []\r\n        const decision = notifications\r\n          .filter(\r\n            (note: any) =>\r\n              typeof note.title === \"string\" &&\r\n              note.title.toLowerCase().includes(\"installer verification rejected\"),\r\n          )\r\n          .sort(\r\n            (a: any, b: any) =>\r\n              new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime(),\r\n          )[0]\r\n\r\n        if (!active) return\r\n\r\n        const body = typeof decision?.body === \"string\" ? decision.body : \"\"\r\n        const match = body.match(/Reason:\\s*(.+)$/i)\r\n        setRejectionReason(match?.[1]?.trim() || null)\r\n      } catch {\r\n        if (!active) return\r\n      }\r\n    }\r\n\r\n    loadReason()\r\n    return () => {\r\n      active = false\r\n    }\r\n  }, [])\r\n\r\n  const handleLogout = async () => {\r\n    setLoading(true)\r\n    try {\r\n      await logout()\r\n    } finally {\r\n      router.push(\"/login\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={`max-w-2xl mx-auto ${className}`.trim()}>\r\n      <Card className=\"border-red-500/40 bg-red-500/5\">\r\n        <CardContent className=\"p-8 text-center\">\r\n          <div className=\"w-16 h-16 rounded-full bg-red-500/10 flex items-center justify-center mx-auto mb-4\">\r\n            <XCircle className=\"w-8 h-8 text-red-500\" />\r\n          </div>\r\n          <h2 className=\"text-xl font-bold text-foreground mb-2\">\r\n            {t(\"verificationRejected\")}\r\n          </h2>\r\n          <p className=\"text-muted-foreground\">\r\n            {t(\"verificationRejectedDescription\")}\r\n          </p>\r\n          {rejectionReason && (\r\n            <div className=\"mt-4 rounded-lg border border-red-500/20 bg-red-500/5 px-4 py-3 text-left\">\r\n              <p className=\"text-xs uppercase tracking-wide text-red-500\">\r\n                {t(\"rejectionReasonLabel\")}\r\n              </p>\r\n              <p className=\"text-sm text-foreground mt-1\">{rejectionReason}</p>\r\n            </div>\r\n          )}\r\n          <div className=\"mt-6 flex justify-center\">\r\n            <Button\r\n              className=\"bg-red-500 hover:bg-red-600 text-white\"\r\n              onClick={handleLogout}\r\n              disabled={loading}\r\n            >\r\n              {loading ? t(\"loggingOut\") : t(\"logout\")}\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AATA;;;;;;;;;AAWO,SAAS,yBAAyB,EAAE,YAAY,EAAE,EAA0B;IACjF,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,2KAAW;IACzB,MAAM,SAAS,IAAA,gLAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,kPAAQ,EAAC;IACvC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,kPAAQ,EAAgB;IAEtE,IAAA,mPAAS,EAAC;QACR,IAAI,SAAS;QAEb,eAAe;YACb,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,sBAAsB;oBAAE,OAAO;gBAAW;gBAClE,IAAI,CAAC,IAAI,EAAE,EAAE;gBACb,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,MAAM,gBAAgB,MAAM,OAAO,CAAC,KAAK,aAAa,IAAI,KAAK,aAAa,GAAG,EAAE;gBACjF,MAAM,WAAW,cACd,MAAM,CACL,CAAC,OACC,OAAO,KAAK,KAAK,KAAK,YACtB,KAAK,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,oCAErC,IAAI,CACH,CAAC,GAAQ,IACP,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,GAClE,CAAC,EAAE;gBAEN,IAAI,CAAC,QAAQ;gBAEb,MAAM,OAAO,OAAO,UAAU,SAAS,WAAW,SAAS,IAAI,GAAG;gBAClE,MAAM,QAAQ,KAAK,KAAK,CAAC;gBACzB,mBAAmB,OAAO,CAAC,EAAE,EAAE,UAAU;YAC3C,EAAE,OAAM;gBACN,IAAI,CAAC,QAAQ;YACf;QACF;QAEA;QACA,OAAO;YACL,SAAS;QACX;IACF,GAAG,EAAE;IAEL,MAAM,eAAe;QACnB,WAAW;QACX,IAAI;YACF,MAAM,IAAA,sJAAM;QACd,SAAU;YACR,OAAO,IAAI,CAAC;QACd;IACF;IAEA,qBACE,+QAAC;QAAI,WAAW,CAAC,kBAAkB,EAAE,WAAW,CAAC,IAAI;kBACnD,cAAA,+QAAC,kKAAI;YAAC,WAAU;sBACd,cAAA,+QAAC,yKAAW;gBAAC,WAAU;;kCACrB,+QAAC;wBAAI,WAAU;kCACb,cAAA,+QAAC,wPAAO;4BAAC,WAAU;;;;;;;;;;;kCAErB,+QAAC;wBAAG,WAAU;kCACX,EAAE;;;;;;kCAEL,+QAAC;wBAAE,WAAU;kCACV,EAAE;;;;;;oBAEJ,iCACC,+QAAC;wBAAI,WAAU;;0CACb,+QAAC;gCAAE,WAAU;0CACV,EAAE;;;;;;0CAEL,+QAAC;gCAAE,WAAU;0CAAgC;;;;;;;;;;;;kCAGjD,+QAAC;wBAAI,WAAU;kCACb,cAAA,+QAAC,sKAAM;4BACL,WAAU;4BACV,SAAS;4BACT,UAAU;sCAET,UAAU,EAAE,gBAAgB,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO7C"}},
    {"offset": {"line": 1677, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dew/404SquadSolarConnect/final/components/dashboard-layout.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport Link from \"next/link\"\r\nimport { usePathname, useRouter } from \"next/navigation\"\r\nimport { useLanguage } from \"@/context/LanguageContext\"\r\n\r\nimport {\r\n  Sun,\r\n  LayoutDashboard,\r\n  FileText,\r\n  Package,\r\n  Users,\r\n  Settings,\r\n  LogOut,\r\n  Menu,\r\n  X,\r\n  Building,\r\n  Gavel,\r\n  Receipt,\r\n  ClipboardList,\r\n  BarChart3,\r\n  CheckCircle,\r\n  Calendar,\r\n} from \"lucide-react\"\r\n\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\"\r\n\r\nimport { fetchCurrentUser, logout, type User, type UserRole } from \"@/lib/auth\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { NotificationProvider, NotificationBell } from \"@/components/notifications\"\r\nimport { VerificationPendingCard } from \"@/components/verification-pending-card\"\r\nimport { VerificationRejectedCard } from \"@/components/verification-rejected-card\"\r\n\r\ninterface NavItem {\r\n  labelKey: string\r\n  href: string\r\n  icon: React.ElementType\r\n}\r\n\r\nconst navigationByRole: Record<UserRole, NavItem[]> = {\r\n  customer: [\r\n    { labelKey: \"dashboard\", href: \"/customer/dashboard\", icon: LayoutDashboard },\r\n    { labelKey: \"myApplications\", href: \"/customer/applications\", icon: FileText },\r\n    { labelKey: \"solarPackages\", href: \"/customer/installers\", icon: Building },\r\n    { labelKey: \"myBids\", href: \"/customer/bids\", icon: Gavel },\r\n    { labelKey: \"invoices\", href: \"/customer/invoices\", icon: Receipt },\r\n    { labelKey: \"calibrations\", href: \"/customer/reports/calibrations\", icon: ClipboardList },\r\n    { labelKey: \"reports\", href: \"/customer/reports\", icon: BarChart3 },\r\n  ],\r\n  installer: [\r\n    { labelKey: \"dashboard\", href: \"/installer/dashboard\", icon: LayoutDashboard },\r\n    { labelKey: \"myPackages\", href: \"/installer/packages\", icon: Package },\r\n    { labelKey: \"bidRequests\", href: \"/installer/bids\", icon: Gavel },\r\n    { labelKey: \"orders\", href: \"/installer/orders\", icon: ClipboardList },\r\n    { labelKey: \"reports\", href: \"/installer/reports\", icon: BarChart3 },\r\n  ],\r\n  officer: [\r\n    { labelKey: \"dashboard\", href: \"/officer/dashboard\", icon: LayoutDashboard },\r\n    { labelKey: \"applications\", href: \"/officer/applications\", icon: FileText },\r\n    { labelKey: \"installers\", href: \"/officer/installers\", icon: Building },\r\n    { labelKey: \"siteVisits\", href: \"/officer/site-visits\", icon: Calendar },\r\n    { labelKey: \"payments\", href: \"/officer/payments\", icon: Receipt },\r\n    { labelKey: \"installations\", href: \"/officer/installations\", icon: CheckCircle },\r\n    { labelKey: \"calibrations\", href: \"/officer/calibrations\", icon: ClipboardList },\r\n    { labelKey: \"billing\", href: \"/officer/billing\", icon: BarChart3 },\r\n    { labelKey: \"users\", href: \"/officer/users\", icon: Users },\r\n  ],\r\n}\r\n\r\nexport function DashboardLayout({ children }: { children: React.ReactNode }) {\r\n  const { t } = useLanguage()\r\n  const router = useRouter()\r\n  const pathname = usePathname()\r\n\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [sidebarOpen, setSidebarOpen] = useState(false)\r\n  const [loading, setLoading] = useState(true)\r\n  const [installerStatus, setInstallerStatus] = useState<\"loading\" | \"verified\" | \"pending\" | \"rejected\">(\r\n    \"loading\",\r\n  )\r\n\r\n  // ✅ Role color system (Customer = Green, Installer = Yellow, Officer = Blue)\r\n  const roleTheme: Record<\r\n    UserRole,\r\n    {\r\n      brandBg: string\r\n      brandSoftBg: string\r\n      brandText: string\r\n      brandTextSoft: string\r\n      activeNav: string\r\n      hoverNav: string\r\n      focusRing: string\r\n      headerStrip: string\r\n    }\r\n  > = {\r\n    customer: {\r\n      brandBg: \"bg-emerald-500\",\r\n      brandSoftBg: \"bg-emerald-500/15\",\r\n      brandText: \"text-emerald-700 dark:text-emerald-300\",\r\n      brandTextSoft: \"text-emerald-600 dark:text-emerald-300\",\r\n      activeNav: \"bg-emerald-500 text-white shadow-sm\",\r\n      hoverNav: \"hover:bg-emerald-500/10 hover:text-emerald-700 dark:hover:text-emerald-300\",\r\n      focusRing: \"focus-visible:ring-emerald-500/30\",\r\n      headerStrip: \"from-emerald-500 via-emerald-400 to-emerald-600\",\r\n    },\r\n    installer: {\r\n      brandBg: \"bg-amber-500\",\r\n      brandSoftBg: \"bg-amber-500/15\",\r\n      brandText: \"text-amber-800 dark:text-amber-200\",\r\n      brandTextSoft: \"text-amber-700 dark:text-amber-300\",\r\n      activeNav: \"bg-amber-500 text-amber-950 shadow-sm\",\r\n      hoverNav: \"hover:bg-amber-500/10 hover:text-amber-800 dark:hover:text-amber-200\",\r\n      focusRing: \"focus-visible:ring-amber-500/30\",\r\n      headerStrip: \"from-yellow-400 via-amber-500 to-orange-500\",\r\n    },\r\n    officer: {\r\n      brandBg: \"bg-blue-500\",\r\n      brandSoftBg: \"bg-blue-500/15\",\r\n      brandText: \"text-blue-700 dark:text-blue-300\",\r\n      brandTextSoft: \"text-blue-600 dark:text-blue-300\",\r\n      activeNav: \"bg-blue-500 text-white shadow-sm\",\r\n      hoverNav: \"hover:bg-blue-500/10 hover:text-blue-700 dark:hover:text-blue-300\",\r\n      focusRing: \"focus-visible:ring-blue-500/30\",\r\n      headerStrip: \"from-blue-500 via-sky-500 to-indigo-500\",\r\n    },\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function loadUser() {\r\n      try {\r\n        const currentUser = await fetchCurrentUser()\r\n        if (!currentUser) {\r\n          router.push(\"/login\")\r\n          return\r\n        }\r\n        setUser(currentUser)\r\n      } catch (err) {\r\n        const message = err instanceof Error ? err.message : \"\"\r\n        console.error(err)\r\n        router.push(message.toLowerCase().includes(\"suspended\") ? \"/login?suspended=1\" : \"/login\")\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    loadUser()\r\n  }, [router])\r\n\r\n  useEffect(() => {\r\n    if (!user) return\r\n\r\n    if (user.role !== \"installer\") {\r\n      setInstallerStatus(\"verified\")\r\n      return\r\n    }\r\n\r\n    if (user.organization?.isRejected) {\r\n      setInstallerStatus(\"rejected\")\r\n      return\r\n    }\r\n\r\n    if (user.verified) {\r\n      setInstallerStatus(\"verified\")\r\n      return\r\n    }\r\n\r\n    setInstallerStatus(\"pending\")\r\n  }, [user])\r\n\r\n  const handleLogout = async () => {\r\n    await logout()\r\n    router.push(\"/login\")\r\n  }\r\n\r\n  if (loading || !user) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"animate-pulse text-muted-foreground\">{t(\"loading\")}</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (user.role === \"installer\" && installerStatus === \"loading\") {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"animate-pulse text-muted-foreground\">{t(\"loading\")}</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const theme = roleTheme[user.role]\r\n  const navigation = navigationByRole[user.role]\r\n\r\n  const officerRouteSet = new Set([\r\n    \"/officer/dashboard\",\r\n    \"/officer/applications\",\r\n    \"/officer/installers\",\r\n    \"/officer/site-visits\",\r\n    \"/officer/payments\",\r\n    \"/officer/installations\",\r\n    \"/officer/calibrations\",\r\n    \"/officer/billing\",\r\n    \"/officer/users\",\r\n    \"/officer/settings\",\r\n  ])\r\n  const shouldAnimateOfficer = user.role === \"officer\" && officerRouteSet.has(pathname)\r\n\r\n  const needsGate = user.role === \"installer\" && installerStatus !== \"verified\"\r\n  const mainContent = needsGate\r\n    ? installerStatus === \"rejected\"\r\n      ? <VerificationRejectedCard />\r\n      : <VerificationPendingCard />\r\n    : children\r\n\r\n  return (\r\n    <NotificationProvider>\r\n      <div className={cn(\"min-h-screen bg-background\", shouldAnimateOfficer && \"officer-scope\")}>\r\n        {sidebarOpen && (\r\n          <div className=\"fixed inset-0 bg-black/50 z-40 lg:hidden\" onClick={() => setSidebarOpen(false)} />\r\n        )}\r\n\r\n        {/* Sidebar */}\r\n        <aside\r\n          className={cn(\r\n            \"fixed top-0 left-0 z-50 h-full w-64 bg-card border-r border-border transition-transform lg:translate-x-0\",\r\n            sidebarOpen ? \"translate-x-0\" : \"-translate-x-full\",\r\n          )}\r\n        >\r\n          <div className=\"flex flex-col h-full\">\r\n            <div className=\"h-14 px-4 border-b border-border flex items-center justify-between\">\r\n              <Link href=\"/\" className=\"flex items-center gap-2\">\r\n                <div className={cn(\"w-8 h-8 rounded-lg flex items-center justify-center\", theme.brandBg)}>\r\n                  <Sun className=\"w-5 h-5 text-white\" />\r\n                </div>\r\n                <span className=\"font-semibold\">CEB Solar</span>\r\n              </Link>\r\n\r\n              <button className=\"lg:hidden text-muted-foreground\" onClick={() => setSidebarOpen(false)}>\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            <nav className=\"flex-1 p-4 space-y-1 overflow-y-auto\">\r\n              {navigation.map((item) => {\r\n                const isActive = pathname === item.href\r\n                return (\r\n                  <Link\r\n                    key={item.href}\r\n                    href={item.href}\r\n                    onClick={() => setSidebarOpen(false)}\r\n                    className={cn(\r\n                      \"flex items-center gap-3 px-3 py-2 rounded-xl text-sm font-semibold transition-colors outline-none\",\r\n                      theme.focusRing,\r\n                      isActive\r\n                        ? theme.activeNav\r\n                        : shouldAnimateOfficer\r\n                          ? cn(\"text-muted-foreground hover:text-foreground hover:bg-muted/50\", theme.hoverNav)\r\n                          : cn(\"text-muted-foreground hover:bg-muted hover:text-foreground\", theme.hoverNav),\r\n                    )}\r\n                  >\r\n                    <item.icon className=\"w-5 h-5\" />\r\n                    {t(item.labelKey as any)}\r\n                  </Link>\r\n                )\r\n              })}\r\n            </nav>\r\n\r\n            <div className=\"p-4 border-t border-border\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <Avatar className=\"w-10 h-10\">\r\n                  {user.profileImageUrl && <AvatarImage src={user.profileImageUrl} alt={user.name} />}\r\n                  <AvatarFallback className={cn(\"text-white\", theme.brandBg)}>\r\n                    {user.name.slice(0, 2).toUpperCase()}\r\n                  </AvatarFallback>\r\n                </Avatar>\r\n\r\n                <div className=\"min-w-0\">\r\n                  <p className=\"text-sm font-semibold truncate\">{user.name}</p>\r\n                  <p className=\"text-xs text-muted-foreground capitalize\">{user.role}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Content */}\r\n        <div className=\"lg:pl-64\">\r\n          <header className=\"sticky top-0 z-30 bg-background border-b border-border\">\r\n            <div className=\"flex items-center justify-between px-4 py-3\">\r\n              <button\r\n                className=\"lg:hidden text-muted-foreground\"\r\n                onClick={() => setSidebarOpen(true)}\r\n              >\r\n                <Menu className=\"w-6 h-6\" />\r\n              </button>\r\n\r\n              <div className=\"flex items-center gap-4 ml-auto\">\r\n                <NotificationBell />\r\n\r\n                <DropdownMenu>\r\n                  <DropdownMenuTrigger asChild>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      className={cn(\r\n                        \"flex items-center gap-2 rounded-xl\",\r\n                        theme.focusRing,\r\n                      )}\r\n                    >\r\n                      <Avatar className=\"w-8 h-8\">\r\n                        {user.profileImageUrl && <AvatarImage src={user.profileImageUrl} alt={user.name} />}\r\n                        <AvatarFallback className={cn(\"text-white text-xs\", theme.brandBg)}>\r\n                          {user.name.slice(0, 2).toUpperCase()}\r\n                        </AvatarFallback>\r\n                      </Avatar>\r\n                      <span className=\"hidden sm:inline text-sm font-semibold\">{user.name}</span>\r\n                    </Button>\r\n                  </DropdownMenuTrigger>\r\n\r\n                  <DropdownMenuContent align=\"end\" className=\"w-56\">\r\n                    <div className=\"px-2 py-1.5\">\r\n                      <p className=\"text-sm font-semibold\">{user.name}</p>\r\n                      <p className=\"text-xs text-muted-foreground\">{user.email}</p>\r\n                    </div>\r\n\r\n                    <DropdownMenuSeparator />\r\n\r\n                    <DropdownMenuItem asChild>\r\n                      <Link href={`/${user.role}/settings`} className=\"flex items-center\">\r\n                        <Settings className=\"w-4 h-4 mr-2\" />\r\n                        {t(\"settings\")}\r\n                      </Link>\r\n                    </DropdownMenuItem>\r\n\r\n                    <DropdownMenuSeparator />\r\n\r\n                    <DropdownMenuItem onClick={handleLogout} className=\"text-destructive\">\r\n                      <LogOut className=\"w-4 h-4 mr-2\" />\r\n                      {t(\"logout\")}\r\n                    </DropdownMenuItem>\r\n                  </DropdownMenuContent>\r\n                </DropdownMenu>\r\n              </div>\r\n            </div>\r\n          </header>\r\n\r\n          <main className={cn(\"p-4 md:p-6\", shouldAnimateOfficer && \"officer-page-transition\")}>\r\n            {mainContent}\r\n          </main>\r\n        </div>\r\n      </div>\r\n    </NotificationProvider>\r\n  )\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2384, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dew/404SquadSolarConnect/final/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\r\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,+QAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 2409, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dew/404SquadSolarConnect/final/components/ui/select.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as SelectPrimitive from '@radix-ui/react-select'\r\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Select({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\r\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\r\n}\r\n\r\nfunction SelectGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\r\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\r\n}\r\n\r\nfunction SelectValue({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\r\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\r\n}\r\n\r\nfunction SelectTrigger({\r\n  className,\r\n  size = 'default',\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\r\n  size?: 'sm' | 'default'\r\n}) {\r\n  return (\r\n    <SelectPrimitive.Trigger\r\n      data-slot=\"select-trigger\"\r\n      data-size={size}\r\n      className={cn(\r\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <SelectPrimitive.Icon asChild>\r\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\r\n      </SelectPrimitive.Icon>\r\n    </SelectPrimitive.Trigger>\r\n  )\r\n}\r\n\r\nfunction SelectContent({\r\n  className,\r\n  children,\r\n  position = 'popper',\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\r\n  return (\r\n    <SelectPrimitive.Portal>\r\n      <SelectPrimitive.Content\r\n        data-slot=\"select-content\"\r\n        className={cn(\r\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\r\n          position === 'popper' &&\r\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\r\n          className,\r\n        )}\r\n        position={position}\r\n        {...props}\r\n      >\r\n        <SelectScrollUpButton />\r\n        <SelectPrimitive.Viewport\r\n          className={cn(\r\n            'p-1',\r\n            position === 'popper' &&\r\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\r\n          )}\r\n        >\r\n          {children}\r\n        </SelectPrimitive.Viewport>\r\n        <SelectScrollDownButton />\r\n      </SelectPrimitive.Content>\r\n    </SelectPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction SelectLabel({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\r\n  return (\r\n    <SelectPrimitive.Label\r\n      data-slot=\"select-label\"\r\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SelectItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\r\n  return (\r\n    <SelectPrimitive.Item\r\n      data-slot=\"select-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\r\n        <SelectPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </SelectPrimitive.ItemIndicator>\r\n      </span>\r\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n    </SelectPrimitive.Item>\r\n  )\r\n}\r\n\r\nfunction SelectSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\r\n  return (\r\n    <SelectPrimitive.Separator\r\n      data-slot=\"select-separator\"\r\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SelectScrollUpButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollUpButton\r\n      data-slot=\"select-scroll-up-button\"\r\n      className={cn(\r\n        'flex cursor-default items-center justify-center py-1',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronUpIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollUpButton>\r\n  )\r\n}\r\n\r\nfunction SelectScrollDownButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollDownButton\r\n      data-slot=\"select-scroll-down-button\"\r\n      className={cn(\r\n        'flex cursor-default items-center justify-center py-1',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronDownIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollDownButton>\r\n  )\r\n}\r\n\r\nexport {\r\n  Select,\r\n  SelectContent,\r\n  SelectGroup,\r\n  SelectItem,\r\n  SelectLabel,\r\n  SelectScrollDownButton,\r\n  SelectScrollUpButton,\r\n  SelectSeparator,\r\n  SelectTrigger,\r\n  SelectValue,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,+QAAC,2MAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,+QAAC,4MAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,+QAAC,4MAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,+QAAC,8MAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,mJAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,+QAAC,2MAAoB;gBAAC,OAAO;0BAC3B,cAAA,+QAAC,4QAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,+QAAC,6MAAsB;kBACrB,cAAA,+QAAC,8MAAuB;YACtB,aAAU;YACV,WAAW,IAAA,mJAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,+QAAC;;;;;8BACD,+QAAC,+MAAwB;oBACvB,WAAW,IAAA,mJAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,+QAAC;;;;;;;;;;;;;;;;AAIT;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,+QAAC,4MAAqB;QACpB,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,+QAAC,2MAAoB;QACnB,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,+QAAC;gBAAK,WAAU;0BACd,cAAA,+QAAC,oNAA6B;8BAC5B,cAAA,+QAAC,sPAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,+QAAC,+MAAwB;0BAAE;;;;;;;;;;;;AAGjC;AAEA,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,+QAAC,gNAAyB;QACxB,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,+QAAC,qNAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,+QAAC,sQAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;AAEA,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,+QAAC,uNAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,+QAAC,4QAAe;YAAC,WAAU;;;;;;;;;;;AAGjC"}},
    {"offset": {"line": 2642, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dew/404SquadSolarConnect/final/components/ui/dialog.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\r\nimport { XIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Dialog({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\r\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\r\n}\r\n\r\nfunction DialogTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\r\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\r\n}\r\n\r\nfunction DialogPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\r\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\r\n}\r\n\r\nfunction DialogClose({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\r\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\r\n}\r\n\r\nfunction DialogOverlay({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\r\n  return (\r\n    <DialogPrimitive.Overlay\r\n      data-slot=\"dialog-overlay\"\r\n      className={cn(\r\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogContent({\r\n  className,\r\n  children,\r\n  showCloseButton = true,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\r\n  showCloseButton?: boolean\r\n}) {\r\n  return (\r\n    <DialogPortal data-slot=\"dialog-portal\">\r\n      <DialogOverlay />\r\n      <DialogPrimitive.Content\r\n        data-slot=\"dialog-content\"\r\n        className={cn(\r\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        {showCloseButton && (\r\n          <DialogPrimitive.Close\r\n            data-slot=\"dialog-close\"\r\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\r\n          >\r\n            <XIcon />\r\n            <span className=\"sr-only\">Close</span>\r\n          </DialogPrimitive.Close>\r\n        )}\r\n      </DialogPrimitive.Content>\r\n    </DialogPortal>\r\n  )\r\n}\r\n\r\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-header\"\r\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-footer\"\r\n      className={cn(\r\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogTitle({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\r\n  return (\r\n    <DialogPrimitive.Title\r\n      data-slot=\"dialog-title\"\r\n      className={cn('text-lg leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\r\n  return (\r\n    <DialogPrimitive.Description\r\n      data-slot=\"dialog-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Dialog,\r\n  DialogClose,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogOverlay,\r\n  DialogPortal,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,+QAAC,2MAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,+QAAC,8MAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,+QAAC,6MAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,+QAAC,4MAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,+QAAC,8MAAuB;QACtB,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,+QAAC;QAAa,aAAU;;0BACtB,+QAAC;;;;;0BACD,+QAAC,8MAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,mJAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,+QAAC,4MAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,+QAAC,0OAAK;;;;;0CACN,+QAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,+QAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,+QAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,+QAAC,4MAAqB;QACpB,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,+QAAC,kNAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 2824, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dew/404SquadSolarConnect/final/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\r\n  return (\r\n    <textarea\r\n      data-slot=\"textarea\"\r\n      className={cn(\r\n        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,+QAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 2848, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dew/404SquadSolarConnect/final/components/ui/label.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as LabelPrimitive from '@radix-ui/react-label'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Label({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\r\n  return (\r\n    <LabelPrimitive.Root\r\n      data-slot=\"label\"\r\n      className={cn(\r\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Label }\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,+QAAC,0MAAmB;QAClB,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 2875, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dew/404SquadSolarConnect/final/app/officer/applications/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { useEffect, useMemo, useState, Suspense } from \"react\"\r\nimport { useSearchParams } from \"next/navigation\"\r\nimport { DashboardLayout } from \"@/components/dashboard-layout\"\r\nimport { useLanguage } from \"@/context/LanguageContext\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport {\r\n  Search,\r\n  FileText,\r\n  Clock,\r\n  CheckCircle,\r\n  AlertCircle,\r\n  Calendar,\r\n  Eye,\r\n  ThumbsUp,\r\n  ThumbsDown,\r\n  Download,\r\n  Zap,\r\n  MapPin,\r\n} from \"lucide-react\"\r\n\r\nimport type { Application, DocumentMeta } from \"@/lib/auth\"\r\n\r\nfunction OfficerApplicationsContent() {\r\n  const { t } = useLanguage()\r\n  const searchParams = useSearchParams()\r\n  const defaultStatus = searchParams.get(\"status\") || \"all\"\r\n\r\n  const [applications, setApplications] = useState<Application[]>([])\r\n  const [searchQuery, setSearchQuery] = useState(\"\")\r\n  const [statusFilter, setStatusFilter] = useState(defaultStatus)\r\n  const [selectedApp, setSelectedApp] = useState<Application | null>(null)\r\n  const [showRejectDialog, setShowRejectDialog] = useState(false)\r\n  const [showScheduleDialog, setShowScheduleDialog] = useState(false)\r\n  const [rejectReason, setRejectReason] = useState(\"\")\r\n  const [siteVisitDate, setSiteVisitDate] = useState(\"\")\r\n  const [scheduleError, setScheduleError] = useState<string | null>(null)\r\n\r\n  const statusConfig: Record<string, { label: string; color: string; icon: React.ElementType }> = {\r\n    pending: { label: t(\"officerApplicationsPending\"), color: \"bg-amber-500/10 text-amber-600\", icon: Clock },\r\n    under_review: { label: t(\"officerApplicationsUnderReview\"), color: \"bg-blue-500/10 text-blue-600\", icon: FileText },\r\n    pre_visit_approved: {\r\n      label: t(\"officerApplicationsApprovedPayment\"),\r\n      color: \"bg-emerald-500/10 text-emerald-600\",\r\n      icon: CheckCircle,\r\n    },\r\n    site_visit_scheduled: { label: t(\"officerApplicationsSiteVisitScheduled\"), color: \"bg-cyan-500/10 text-cyan-600\", icon: Calendar },\r\n    approved: { label: t(\"officerApplicationsApproved\"), color: \"bg-emerald-500/10 text-emerald-600\", icon: CheckCircle },\r\n    site_visit_payment_completed: {\r\n      label: t(\"officerApplicationsSiteVisitPaymentCompleted\"),\r\n      color: \"bg-emerald-500/10 text-emerald-600\",\r\n      icon: CheckCircle,\r\n    },\r\n    rejected: { label: t(\"officerApplicationsRejected\"), color: \"bg-red-500/10 text-red-600\", icon: AlertCircle },\r\n    payment_pending: { label: t(\"statusPaymentPending\"), color: \"bg-amber-500/10 text-amber-600\", icon: Clock },\r\n    payment_confirmed: { label: t(\"statusPaymentConfirmed\"), color: \"bg-emerald-500/10 text-emerald-600\", icon: CheckCircle },\r\n    finding_installer: { label: t(\"statusFindingInstaller\"), color: \"bg-blue-500/10 text-blue-600\", icon: FileText },\r\n    installation_in_progress: { label: t(\"statusInstallationProgress\"), color: \"bg-cyan-500/10 text-cyan-600\", icon: Zap },\r\n    installation_complete: { label: t(\"statusInstallationComplete\"), color: \"bg-emerald-500/10 text-emerald-600\", icon: CheckCircle },\r\n    final_inspection: { label: t(\"statusFinalInspection\"), color: \"bg-blue-500/10 text-blue-600\", icon: FileText },\r\n    agreement_pending: { label: t(\"statusAgreementPending\"), color: \"bg-amber-500/10 text-amber-600\", icon: Clock },\r\n    inspection_approved: { label: t(\"statusInspectionApproved\"), color: \"bg-emerald-500/10 text-emerald-600\", icon: CheckCircle },\r\n    agreement_sent: { label: t(\"statusAgreementSent\"), color: \"bg-cyan-500/10 text-cyan-600\", icon: FileText },\r\n    customer_signed: { label: t(\"statusCustomerSigned\"), color: \"bg-blue-500/10 text-blue-600\", icon: FileText },\r\n    installer_signed: { label: t(\"statusInstallerSigned\"), color: \"bg-blue-500/10 text-blue-600\", icon: FileText },\r\n    officer_final_approved: { label: t(\"statusFinalApproval\"), color: \"bg-emerald-500/10 text-emerald-600\", icon: CheckCircle },\r\n    completed: { label: t(\"statusCompleted\"), color: \"bg-emerald-500/10 text-emerald-600\", icon: CheckCircle },\r\n  }\r\n\r\n  const getSubmissionCutoff = (app?: Application | null) => {\r\n    if (!app?.createdAt) return \"\"\r\n    const cutoff = new Date(app.createdAt)\r\n    cutoff.setMinutes(cutoff.getMinutes() + 1)\r\n    return cutoff.toISOString().slice(0, 16)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchApps = async () => {\r\n      const res = await fetch(\"/api/officer/applications\")\r\n      const data = await res.json()\r\n      setApplications(data.applications)\r\n    }\r\n    fetchApps()\r\n  }, [])\r\n\r\n  const filteredApplications = useMemo(() => {\r\n    return applications.filter((app) => {\r\n      const matchesSearch =\r\n        app.customerName.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        app.id.toLowerCase().includes(searchQuery.toLowerCase())\r\n      const matchesStatus = statusFilter === \"all\" || app.status === statusFilter\r\n      return matchesSearch && matchesStatus\r\n    })\r\n  }, [applications, searchQuery, statusFilter])\r\n\r\n  const refreshApp = (updated: Application) => {\r\n    setApplications((prev) => prev.map((app) => (app.id === updated.id ? updated : app)))\r\n    setSelectedApp(updated)\r\n  }\r\n\r\n  const updateStatus = async (\r\n    status: Application[\"status\"],\r\n    extras?: { rejectionReason?: string; siteVisitDate?: string },\r\n  ) => {\r\n    if (!selectedApp) return\r\n    const res = await fetch(\"/api/officer/applications\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ applicationId: selectedApp.id, status, ...extras }),\r\n    })\r\n    const raw = await res.text()\r\n    let data: any = {}\r\n    if (raw) {\r\n      try {\r\n        data = JSON.parse(raw)\r\n      } catch {\r\n        data = {}\r\n      }\r\n    }\r\n    if (res.ok) {\r\n      refreshApp(data.application)\r\n      return { ok: true }\r\n    } else {\r\n      return {\r\n        ok: false,\r\n        error: data.error || res.statusText || t(\"officerApplicationsUpdateError\"),\r\n      }\r\n    }\r\n  }\r\n\r\n  const handlePreVisitApprove = async () => {\r\n    const result = await updateStatus(\"pre_visit_approved\")\r\n    if (!result?.ok) {\r\n      alert(result?.error || t(\"officerApplicationsUpdateError\"))\r\n    }\r\n  }\r\n\r\n  const handleFinalApprove = async () => {\r\n    const result = await updateStatus(\"approved\")\r\n    if (!result?.ok) {\r\n      alert(result?.error || t(\"officerApplicationsUpdateError\"))\r\n    }\r\n  }\r\n\r\n  const handleReject = async () => {\r\n    const result = await updateStatus(\"rejected\", { rejectionReason: rejectReason })\r\n    if (!result?.ok) {\r\n      alert(result?.error || t(\"officerApplicationsUpdateError\"))\r\n      return\r\n    }\r\n    setShowRejectDialog(false)\r\n    setRejectReason(\"\")\r\n  }\r\n\r\n  const handleScheduleSiteVisit = async () => {\r\n    setScheduleError(null)\r\n    if (selectedApp?.createdAt && siteVisitDate) {\r\n      const submittedAt = new Date(selectedApp.createdAt)\r\n      const proposed = new Date(siteVisitDate)\r\n      if (Number.isNaN(proposed.getTime())) {\r\n        setScheduleError(t(\"officerApplicationsInvalidDate\"))\r\n        return\r\n      }\r\n      if (proposed <= submittedAt) {\r\n        setScheduleError(t(\"officerApplicationsVisitAfterSubmit\"))\r\n        return\r\n      }\r\n    }\r\n    const result = await updateStatus(\"site_visit_scheduled\", { siteVisitDate })\r\n    if (!result?.ok) {\r\n      setScheduleError(result?.error || t(\"officerApplicationsScheduleError\"))\r\n      return\r\n    }\r\n    setShowScheduleDialog(false)\r\n    setSiteVisitDate(\"\")\r\n  }\r\n\r\n  const openScheduleDialog = () => {\r\n    if (selectedApp?.siteVisitDate) {\r\n      const localValue = new Date(selectedApp.siteVisitDate).toISOString().slice(0, 16)\r\n      setSiteVisitDate(localValue)\r\n    }\r\n    setScheduleError(null)\r\n    setShowScheduleDialog(true)\r\n  }\r\n\r\n  const renderDocument = (name: string, doc?: DocumentMeta) => (\r\n    <div key={name} className=\"flex items-center justify-between p-2 rounded border border-border\">\r\n      <span className=\"text-sm capitalize text-foreground\">{name.replace(/([A-Z])/g, \" $1\").trim()}</span>\r\n      {doc ? (\r\n        <div className=\"flex items-center gap-2\">\r\n          <CheckCircle className=\"w-4 h-4 text-emerald-500\" />\r\n          <Button variant=\"ghost\" size=\"sm\" className=\"h-6 px-2\" asChild>\r\n            <a href={doc.url} target=\"_blank\" rel=\"noreferrer\">\r\n              <Download className=\"w-3 h-3\" />\r\n            </a>\r\n          </Button>\r\n        </div>\r\n      ) : (\r\n        <AlertCircle className=\"w-4 h-4 text-red-500\" />\r\n      )}\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <DashboardLayout>\r\n      <div className=\"space-y-6\">\r\n        {/* Header */}\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-foreground\">{t(\"officerApplicationsTitle\")}</h1>\r\n          <p className=\"text-muted-foreground\">{t(\"officerApplicationsSubtitle\")}</p>\r\n        </div>\r\n\r\n        {/* Filters */}\r\n        <Card>\r\n          <CardContent className=\"p-4\">\r\n            <div className=\"flex flex-col sm:flex-row gap-4\">\r\n              <div className=\"relative flex-1\">\r\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\r\n                <Input\r\n                  placeholder={t(\"officerApplicationsSearch\")}\r\n                  className=\"pl-10\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                />\r\n              </div>\r\n              <Select value={statusFilter} onValueChange={setStatusFilter}>\r\n                <SelectTrigger className=\"w-full sm:w-48\">\r\n                  <SelectValue placeholder={t(\"officerApplicationsFilter\")} />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">{t(\"officerApplicationsAllStatus\")}</SelectItem>\r\n                  <SelectItem value=\"pending\">{t(\"officerApplicationsPending\")}</SelectItem>\r\n                  <SelectItem value=\"under_review\">{t(\"officerApplicationsUnderReview\")}</SelectItem>\r\n                  <SelectItem value=\"pre_visit_approved\">{t(\"officerApplicationsApprovedPayment\")}</SelectItem>\r\n                  <SelectItem value=\"site_visit_scheduled\">{t(\"officerApplicationsSiteVisitScheduled\")}</SelectItem>\r\n                  <SelectItem value=\"approved\">{t(\"officerApplicationsApproved\")}</SelectItem>\r\n                  <SelectItem value=\"site_visit_payment_completed\">{t(\"officerApplicationsSiteVisitPaymentCompleted\")}</SelectItem>\r\n                  <SelectItem value=\"rejected\">{t(\"officerApplicationsRejected\")}</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Applications List */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"text-foreground\">\r\n              {t(\"officerApplicationsListTitle\")} ({filteredApplications.length})\r\n            </CardTitle>\r\n            <CardDescription>{t(\"officerApplicationsListDescription\")}</CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"space-y-4\">\r\n              {filteredApplications.map((app) => {\r\n                const status = statusConfig[app.status] || statusConfig.pending\r\n                const StatusIcon = status.icon\r\n                return (\r\n                  <div\r\n                    key={app.id}\r\n                    className=\"flex flex-col lg:flex-row lg:items-center justify-between p-4 rounded-lg border border-border hover:border-blue-500/30 transition-colors cursor-pointer\"\r\n                    onClick={() => setSelectedApp(app)}\r\n                  >\r\n                    <div className=\"flex items-start gap-4 mb-4 lg:mb-0\">\r\n                      <div className=\"w-12 h-12 rounded-lg bg-blue-500/10 flex items-center justify-center shrink-0\">\r\n                        <FileText className=\"w-6 h-6 text-blue-500\" />\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <p className=\"font-semibold text-foreground\">{app.customerName}</p>\r\n                          <Badge className={status.color} variant=\"secondary\">\r\n                            <StatusIcon className=\"w-3 h-3 mr-1\" />\r\n                            {status.label}\r\n                          </Badge>\r\n                        </div>\r\n                        <p className=\"text-sm text-muted-foreground\">{app.id}</p>\r\n                        <p className=\"text-xs text-muted-foreground mt-1\">\r\n                          {app.address} • {app.technicalDetails?.roofType || app.connectionPhase || t(\"notAvailable\")}\r\n                        </p>\r\n                        {[\"pre_visit_approved\", \"approved\", \"site_visit_payment_completed\"].includes(app.status) && (\r\n                          <div className=\"mt-2 flex flex-wrap items-center gap-2\">\r\n                            <Badge\r\n                              className={\r\n                                app.siteVisitFeePaid\r\n                                  ? \"bg-emerald-500/10 text-emerald-600\"\r\n                                  : \"bg-amber-500/10 text-amber-600\"\r\n                              }\r\n                              variant=\"secondary\"\r\n                            >\r\n                              {app.siteVisitFeePaid\r\n                                ? t(\"officerApplicationsSiteVisitFeePaid\")\r\n                                : t(\"officerApplicationsSiteVisitFeePending\")}\r\n                            </Badge>\r\n                          </div>\r\n                        )}\r\n                        {app.siteVisitDate && (\r\n                          <p className=\"text-xs text-muted-foreground mt-1\">\r\n                            {t(\"officerApplicationsSiteVisitDate\")}: {new Date(app.siteVisitDate).toLocaleString()}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <p className=\"text-sm text-muted-foreground\">{new Date(app.createdAt).toLocaleDateString()}</p>\r\n                      <Button variant=\"outline\" size=\"sm\" className=\"bg-transparent\">\r\n                        <Eye className=\"w-4 h-4 mr-1\" />\r\n                        {t(\"officerApplicationsReviewButton\")}\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              })}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Application Detail Dialog */}\r\n        <Dialog\r\n          open={!!selectedApp && !showRejectDialog && !showScheduleDialog}\r\n          onOpenChange={() => setSelectedApp(null)}\r\n        >\r\n          <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n            <DialogHeader>\r\n              <DialogTitle className=\"text-foreground\">{t(\"officerApplicationsDialogTitle\")}</DialogTitle>\r\n              <DialogDescription>{selectedApp?.id}</DialogDescription>\r\n            </DialogHeader>\r\n            {selectedApp && (\r\n              <div className=\"space-y-6\">\r\n                {/* Customer Info */}\r\n                <div className=\"p-4 rounded-lg bg-muted/50\">\r\n                  <h4 className=\"font-semibold text-foreground mb-3\">{t(\"officerApplicationsCustomerInfo\")}</h4>\r\n                  <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                    <div>\r\n                      <p className=\"text-muted-foreground\">{t(\"officerApplicationsName\")}</p>\r\n                      <p className=\"text-foreground\">{selectedApp.customerName}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-muted-foreground\">{t(\"officerApplicationsEmail\")}</p>\r\n                      <p className=\"text-foreground\">{selectedApp.email}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-muted-foreground\">{t(\"officerApplicationsPhone\")}</p>\r\n                      <p className=\"text-foreground\">{selectedApp.phone}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-muted-foreground\">{t(\"officerApplicationsAddress\")}</p>\r\n                      <p className=\"text-foreground\">{selectedApp.address}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-muted-foreground\">{t(\"officerApplicationsSubmitted\")}</p>\r\n                      <p className=\"text-foreground\">{new Date(selectedApp.createdAt).toLocaleString()}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-muted-foreground\">{t(\"officerApplicationsSiteVisitDate\")}</p>\r\n                      <p className=\"text-foreground\">\r\n                        {selectedApp.siteVisitDate\r\n                          ? new Date(selectedApp.siteVisitDate).toLocaleString()\r\n                          : t(\"officerApplicationsNotScheduled\")}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Technical Details */}\r\n                <div className=\"p-4 rounded-lg bg-muted/50\">\r\n                  <h4 className=\"font-semibold text-foreground mb-3 flex items-center gap-2\">\r\n                    <Zap className=\"w-4 h-4 text-blue-500\" />\r\n                    {t(\"officerApplicationsTechnicalDetails\")}\r\n                  </h4>\r\n                  <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                    <div>\r\n                      <p className=\"text-muted-foreground\">{t(\"officerApplicationsRoofType\")}</p>\r\n                      <p className=\"text-foreground\">{selectedApp.technicalDetails.roofType}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-muted-foreground\">{t(\"officerApplicationsRoofArea\")}</p>\r\n                      <p className=\"text-foreground\">{selectedApp.technicalDetails.roofArea}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-muted-foreground\">{t(\"officerApplicationsMonthlyConsumption\")}</p>\r\n                      <p className=\"text-foreground\">{selectedApp.technicalDetails.monthlyConsumption}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-muted-foreground\">{t(\"officerApplicationsConnectionPhase\")}</p>\r\n                      <p className=\"text-foreground\">{selectedApp.technicalDetails.connectionPhase}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Documents */}\r\n                <div className=\"p-4 rounded-lg bg-muted/50\">\r\n                  <h4 className=\"font-semibold text-foreground mb-3\">{t(\"officerApplicationsUploadedDocuments\")}</h4>\r\n                  <div className=\"grid grid-cols-2 gap-2\">\r\n                    {renderDocument(\"nic\", selectedApp.documents.nic)}\r\n                    {renderDocument(\"bankDetails\", selectedApp.documents.bankDetails)}\r\n                    {renderDocument(\"electricityBill\", selectedApp.documents.electricityBill)}\r\n                    {renderDocument(\"propertyDocument\", selectedApp.documents.propertyDocument)}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Review metadata */}\r\n                {selectedApp.reviewedAt && (\r\n                  <div className=\"p-4 rounded-lg bg-muted/50\">\r\n                    <h4 className=\"font-semibold text-foreground mb-2 flex items-center gap-2\">\r\n                      <MapPin className=\"w-4 h-4 text-blue-500\" />\r\n                      {t(\"officerApplicationsVerificationTimeline\")}\r\n                    </h4>\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                      {t(\"officerApplicationsLastReviewed\")} {new Date(selectedApp.reviewedAt).toLocaleString()}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n            <DialogFooter className=\"flex-col sm:flex-row gap-2\">\r\n              {selectedApp?.status === \"pending\" && (\r\n                <>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className=\"text-red-500 border-red-500/50 hover:bg-red-500/10 bg-transparent\"\r\n                    onClick={() => setShowRejectDialog(true)}\r\n                  >\r\n                    <ThumbsDown className=\"w-4 h-4 mr-2\" />\r\n                    {t(\"officerApplicationsRejectButton\")}\r\n                  </Button>\r\n                  <Button className=\"bg-emerald-500 hover:bg-emerald-600 text-white\" onClick={handlePreVisitApprove}>\r\n                    <ThumbsUp className=\"w-4 h-4 mr-2\" />\r\n                    {t(\"officerApplicationsApproveButton\")}\r\n                  </Button>\r\n                </>\r\n              )}\r\n              {selectedApp?.status === \"pre_visit_approved\" && (\r\n                <>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className=\"text-red-500 border-red-500/50 hover:bg-red-500/10 bg-transparent\"\r\n                    onClick={() => setShowRejectDialog(true)}\r\n                  >\r\n                    <ThumbsDown className=\"w-4 h-4 mr-2\" />\r\n                    {t(\"officerApplicationsRejectButton\")}\r\n                  </Button>\r\n                </>\r\n              )}\r\n              {selectedApp?.status === \"site_visit_payment_completed\" && (\r\n                <>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className=\"text-red-500 border-red-500/50 hover:bg-red-500/10 bg-transparent\"\r\n                    onClick={() => setShowRejectDialog(true)}\r\n                  >\r\n                    <ThumbsDown className=\"w-4 h-4 mr-2\" />\r\n                    {t(\"officerApplicationsRejectButton\")}\r\n                  </Button>\r\n                  <Button variant=\"outline\" className=\"bg-transparent\" onClick={openScheduleDialog}>\r\n                    <Calendar className=\"w-4 h-4 mr-2\" />\r\n                    {t(\"officerApplicationsScheduleSiteVisit\")}\r\n                  </Button>\r\n                </>\r\n              )}\r\n              {selectedApp?.status === \"site_visit_scheduled\" && (\r\n                <>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className=\"text-red-500 border-red-500/50 hover:bg-red-500/10 bg-transparent\"\r\n                    onClick={() => setShowRejectDialog(true)}\r\n                  >\r\n                    <ThumbsDown className=\"w-4 h-4 mr-2\" />\r\n                    {t(\"officerApplicationsRejectButton\")}\r\n                  </Button>\r\n                  <Button variant=\"outline\" className=\"bg-transparent\" onClick={openScheduleDialog}>\r\n                    <Calendar className=\"w-4 h-4 mr-2\" />\r\n                    {t(\"officerApplicationsRescheduleSiteVisit\")}\r\n                  </Button>\r\n                  <Button className=\"bg-emerald-500 hover:bg-emerald-600 text-white\" onClick={handleFinalApprove}>\r\n                    <ThumbsUp className=\"w-4 h-4 mr-2\" />\r\n                    {t(\"officerApplicationsApproveAfterVisit\")}\r\n                  </Button>\r\n                </>\r\n              )}\r\n            </DialogFooter>\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n        {/* Reject Dialog */}\r\n        <Dialog open={showRejectDialog} onOpenChange={setShowRejectDialog}>\r\n          <DialogContent>\r\n            <DialogHeader>\r\n              <DialogTitle className=\"text-foreground\">{t(\"officerApplicationsRejectTitle\")}</DialogTitle>\r\n              <DialogDescription>\r\n                {t(\"officerApplicationsRejectDescription\")}\r\n              </DialogDescription>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label>{t(\"officerApplicationsRejectionReason\")}</Label>\r\n                <Textarea\r\n                  placeholder={t(\"officerApplicationsRejectionReasonPlaceholder\")}\r\n                  value={rejectReason}\r\n                  onChange={(e) => setRejectReason(e.target.value)}\r\n                  rows={4}\r\n                />\r\n              </div>\r\n            </div>\r\n            <DialogFooter>\r\n              <Button variant=\"outline\" onClick={() => setShowRejectDialog(false)} className=\"bg-transparent\">\r\n                {t(\"cancel\")}\r\n              </Button>\r\n              <Button\r\n                className=\"bg-red-500 hover:bg-red-600 text-white\"\r\n                onClick={handleReject}\r\n                disabled={!rejectReason.trim()}\r\n              >\r\n                {t(\"officerApplicationsConfirmRejection\")}\r\n              </Button>\r\n            </DialogFooter>\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n        {/* Schedule Site Visit Dialog */}\r\n        <Dialog open={showScheduleDialog} onOpenChange={setShowScheduleDialog}>\r\n          <DialogContent>\r\n            <DialogHeader>\r\n              <DialogTitle className=\"text-foreground\">{t(\"officerApplicationsScheduleTitle\")}</DialogTitle>\r\n              <DialogDescription>{t(\"officerApplicationsScheduleDescription\")}</DialogDescription>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4\">\r\n              {scheduleError && (\r\n                <div className=\"rounded-lg border border-destructive/30 bg-destructive/10 px-3 py-2 text-sm text-destructive\">\r\n                  {scheduleError}\r\n                </div>\r\n              )}\r\n              {selectedApp?.status !== \"site_visit_payment_completed\" &&\r\n                selectedApp?.status !== \"site_visit_scheduled\" && (\r\n                <div className=\"rounded-lg border border-amber-500/30 bg-amber-500/10 px-3 py-2 text-sm text-amber-700\">\r\n                  {t(\"officerApplicationsPaymentRequired\")}\r\n                </div>\r\n              )}\r\n              <div className=\"space-y-2\">\r\n                <Label>{t(\"officerApplicationsSiteVisitDateTime\")}</Label>\r\n                <Input\r\n                  type=\"datetime-local\"\r\n                  value={siteVisitDate}\r\n                  onChange={(e) => setSiteVisitDate(e.target.value)}\r\n                  min={getSubmissionCutoff(selectedApp)}\r\n                />\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  {t(\"officerApplicationsScheduleNote\")}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <DialogFooter>\r\n              <Button variant=\"outline\" onClick={() => setShowScheduleDialog(false)} className=\"bg-transparent\">\r\n                {t(\"cancel\")}\r\n              </Button>\r\n              <Button\r\n                className=\"bg-blue-500 hover:bg-blue-600 text-white\"\r\n                onClick={handleScheduleSiteVisit}\r\n                disabled={\r\n                  !siteVisitDate ||\r\n                  (selectedApp?.status !== \"site_visit_payment_completed\" &&\r\n                    selectedApp?.status !== \"site_visit_scheduled\")\r\n                }\r\n              >\r\n                {t(\"officerApplicationsScheduleVisit\")}\r\n              </Button>\r\n            </DialogFooter>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n    </DashboardLayout>\r\n  )\r\n}\r\n\r\nfunction ApplicationsLoading() {\r\n  const { t } = useLanguage()\r\n  return <div>{t(\"loadingGeneric\")}</div>\r\n}\r\n\r\nexport default function OfficerApplications() {\r\n  return (\r\n    <Suspense fallback={<ApplicationsLoading />}>\r\n      <OfficerApplicationsContent />\r\n    </Suspense>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}